// src/seeds/main.seed.ts
import { NestFactory } from '@nestjs/core';
import { ContextSeed } from './context.seed';
import { PrioritySeed } from './priority.seed';
import { SeedModule } from './seed.module';
import { TaskSeed } from './task.seed';

async function bootstrap() {
  const app = await NestFactory.createApplicationContext(SeedModule);

  const contextSeed = app.get(ContextSeed);
  const prioritySeed = app.get(PrioritySeed);
  const taskSeed = app.get(TaskSeed);

  await contextSeed.run();
  await prioritySeed.run();
  await taskSeed.run();

  await app.close();
}

bootstrap();
