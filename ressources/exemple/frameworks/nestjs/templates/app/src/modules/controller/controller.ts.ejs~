import {
Controller,
Get,
Post,
Body,
Patch,
Param,
Delete,
HttpCode,
HttpStatus,
} from '@nestjs/common';

import { <%= entity.namePascalCase %>Service } from './<%= entity.nameKebabCase %>.service';
import { Create<%= entity.namePascalCase %>Dto } from './dto/create-<%= entity.nameKebabCase %>.dto';
import { Update<%= entity.namePascalCase %>Dto } from './dto/update-<%= entity.nameKebabCase %>.dto';
import { <%= entity.namePascalCase %> } from './entities/<%= entity.nameKebabCase %>.entity';
import { ApiOperation, ApiResponse } from '@nestjs/swagger';

@Controller('<%= entity.nameKebabCase %>')
export class <%= entity.namePascalCase %>Controller {
  constructor(private readonly <%= entity.nameCamelCase %>Service: <%= entity.namePascalCase %>Service) {}

  @Post()
  @HttpCode(HttpStatus.CREATED)
  @ApiOperation({ summary: 'Créer un nouvel élément' })
  @ApiResponse({ status: 201, description: 'Création réussie', type: <%= entity.namePascalCase %> })
  @ApiResponse({ status: 500, description: 'Erreur interne du serveur' })
  create(@Body() create<%= entity.namePascalCase %>Dto: Create<%= entity.namePascalCase %>Dto) {
  return this.<%= entity.nameCamelCase %>Service.create(create<%= entity.namePascalCase %>Dto);
  }

  @Get()
  @HttpCode(HttpStatus.OK)
  @ApiOperation({ summary: 'Récupérer tous les éléments' })
  @ApiResponse({ status: 200, description: 'Liste des éléments', type: [<%= entity.namePascalCase %>] })
  findAll() {
  return this.<%= entity.nameCamelCase %>Service.findAll();
  }

  @Get(':id')
  @HttpCode(HttpStatus.OK)
  @ApiOperation({ summary: 'Récupérer un élément par son ID' })
  @ApiResponse({ status: 200, description: 'Élément trouvé', type: <%= entity.namePascalCase %> })
  @ApiResponse({ status: 404, description: 'Élément non trouvé' })
  findOne(@Param('id') id: string) {
  return this.<%= entity.nameCamelCase %>Service.findOne(+id);
  }

  @Patch(':id')
  @HttpCode(HttpStatus.OK)
  @ApiOperation({ summary: 'Mise à jour partielle d’un élément' })
  @ApiResponse({ status: 200, description: 'Mise à jour réussie', type: <%= entity.namePascalCase %> })
  @ApiResponse({ status: 404, description: 'Élément non trouvé' })
  @ApiResponse({ status: 500, description: 'Erreur interne du serveur' })
  update(@Param('id') id: string, @Body() update<%= entity.namePascalCase %>Dto: Update<%= entity.namePascalCase %>Dto) {
  return this.<%= entity.nameCamelCase %>Service.update(+id, update<%= entity.namePascalCase %>Dto);
  }

  @Delete(':id')
  @HttpCode(HttpStatus.NO_CONTENT)
  @ApiOperation({ summary: 'Supprimer un élément' })
  @ApiResponse({ status: 204, description: 'Suppression réussie' })
  @ApiResponse({ status: 404, description: 'Élément non trouvé' })
  remove(@Param('id') id: string) {
  return this.<%= entity.nameCamelCase %>Service.remove(+id);
  }
}
 