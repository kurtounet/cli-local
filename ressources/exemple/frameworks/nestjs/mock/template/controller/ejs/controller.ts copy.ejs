import { Controller, Param, Delete, Get, Patch, Post, Put, Body } from '@nestjs/common';
import { <%= entity.classEntityName %>Service } from './<%= entity.fileEntityName %>.service';
import { <%= entity.classEntityName %> } from './<%= entity.fileEntityName %>.entity';

@Controller('<%= entity.tableName %>')
export class <%= entity.classEntityName %>Controller {
constructor(private readonly <%= entity.camelEntityName %>Service: <%= entity.classEntityName %>Service) {}

@Get()
findAll(): string {
return this.<%= entity.camelEntityName %>Service.findAll();
}

@Get(':id')
findOne(@Param('id') id: string): string {
return this.<%= entity.camelEntityName %>Service.findOne(id);
}

@Post()
create(@Body() data: any): string {
return this.<%= entity.camelEntityName %>Service.create(data);
}import {
Controller,
Get,
Post,
Body,
Patch,
Param,
Delete,
HttpCode,
HttpStatus,
} from '@nestjs/common';
import { UserService } from './user.service';
import { CreateUserDto } from './dto/create-user.dto';
import { UpdateUserDto } from './dto/update-user.dto';
import { User } from './entities/user.entity';
import { ApiOperation, ApiResponse } from '@nestjs/swagger';

@Controller('user')
export class UserController {
constructor(private readonly userService: UserService) {}

@Post()
@HttpCode(HttpStatus.CREATED)
@ApiOperation({ summary: 'Créer un nouvel élément' })
@ApiResponse({ status: 201, description: 'Création réussie', type: User })
@ApiResponse({ status: 500, description: 'Erreur interne du serveur' })
create(@Body() createUserDto: CreateUserDto) {
return this.userService.create(createUserDto);
}

@Get()
@HttpCode(HttpStatus.OK)
@ApiOperation({ summary: 'Récupérer tous les éléments' })
@ApiResponse({ status: 200, description: 'Liste des éléments', type: [User] })
findAll() {
return this.userService.findAll();
}

@Get(':id')
@HttpCode(HttpStatus.OK)
@ApiOperation({ summary: 'Récupérer un élément par son ID' })
@ApiResponse({ status: 200, description: 'Élément trouvé', type: User })
@ApiResponse({ status: 404, description: 'Élément non trouvé' })
findOne(@Param('id') id: string) {
return this.userService.findOne(+id);
}

@Patch(':id')
@HttpCode(HttpStatus.OK)
@ApiOperation({ summary: 'Mise à jour partielle d’un élément' })
@ApiResponse({ status: 200, description: 'Mise à jour réussie', type: User })
@ApiResponse({ status: 404, description: 'Élément non trouvé' })
@ApiResponse({ status: 500, description: 'Erreur interne du serveur' })
update(@Param('id') id: string, @Body() updateUserDto: UpdateUserDto) {
return this.userService.update(+id, updateUserDto);
}

@Delete(':id')
@HttpCode(HttpStatus.NO_CONTENT)
@ApiOperation({ summary: 'Supprimer un élément' })
@ApiResponse({ status: 204, description: 'Suppression réussie' })
@ApiResponse({ status: 404, description: 'Élément non trouvé' })
remove(@Param('id') id: string) {
return this.userService.remove(+id);
}
}


@Put(':id')
putUpdate(@Param('id') id: string, @Body() data: any): string {
return this.<%= entity.camelEntityName %>Service.update(id, data);
}

@Patch(':id')
patchUpdate(@Param('id',ParseIntPipe) id: number,
@Body() data: any,): Promise<<%= entity.camelEntityName %>> {
return this.<%= entity.camelEntityName %>Service.partialUpdate(id, data);
}

@Delete(':id')
remove(@Param('id') id: string): string {
return this.<%= entity.camelEntityName %>Service.remove(id);
}
}
